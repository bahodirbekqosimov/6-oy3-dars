{% extends "base.html" %}

{% block title %}MiniWiki{% endblock %}


{% block content %}
{% load static %}
<style>
  .password-box {
    position: relative;
    width: 100%;
}

.password-box input {
    width: 100%;
    padding-right: 35px; /* koâ€˜z uchun joy */
}

.password-box img {
    position: absolute;
    top: 50%;
    right: 10px;
    height: 20px;
    transform: translateY(-50%);
    cursor: pointer;
    opacity: 0.7;
}

</style>

<section class="login-container">
  <h2>Kirish <img src="{% static 'images/login.png' %}" alt="" style="height: 30px;"></h2>
  <form method="post"> {% csrf_token %}
    <input type="text" class="form-control" placeholder="Foydalanuvchi nomi" required name="username">
    <div class="password-box">
        <input type="password" id="password" class="form-control" placeholder="Parol" required name="password">
        <img src="{% static 'images/hide.png' %}" id="toggleEye" alt="">
    </div>

    <button type="submit" class="btn btn-login">Kirish</button>
    <p class="text-center mt-3">Hisobingiz yo'qmi? <a href="{% url 'register' %}">Ro'yxatdan o'tish</a></p>
  </form>
</section>

<script>
  const password = document.getElementById("password");
const toggleEye = document.getElementById("toggleEye");

toggleEye.addEventListener("click", () => {
    if (password.type == "password"){
      password.type = 'text';
      toggleEye.src = "{% static 'images/show.png' %}"
    }else{
      password.type = 'password';
      toggleEye.src = "{% static 'images/hide.png' %}"
    }

});

</script>
{% endblock %}